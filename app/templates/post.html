<!DOCTYPE html>
<html lang="en">

{% include './Sections/head.html' %}

{% include './Sections/header.html' %}

<section class="py-20 bg-gray-100">
    <div class="container mx-auto px-4">
        <div class="flex flex-wrap">
            <!-- Main content -->
            <div class="w-full lg:w-3/4 px-4">
                <article class="bg-white p-8 rounded-lg shadow-md">
                    <div class="relative rounded-lg overflow-hidden">
                        <img class="w-full h-64 object-cover" src="{{ post.image_url }}" alt="Post Image">
                        <div class="absolute bottom-0 left-0 p-5 bg-opacity-50 bg-black">
                            <h1 class="font-bold text-4xl text-white mb-2">{{ post.title }}</h1>
                            <div class="flex items-center">
                                <img class="h-8 w-8 rounded-full mr-2"
                                     src="{{ url_for('static', filename='img/corentin_2.jpg') }}" alt="Author Image">
                                <div class="text-white">
                                    <p class="font-semibold">Corentin Dupaigne</p>
                                    <p class="text-sm">{{ post.date_posted.strftime('%B %d, %Y') }}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="mt-8 post-content text-gray-800 leading-relaxed text-lg">
                        <!-- Assuming post.content is in the format: header, introduction, body, conclusion -->
                        <!-- Let's give each section some distinct styling -->
                        <h2 class="mb-6 text-2xl leading-loose text-gray-800 font-bold">{{ post.header }}</h2>
                        <p class="mb-6 text-lg leading-loose text-gray-700 font-semibold">{{ post.introduction }}</p>
                        <div class="mb-6 text-base leading-loose text-gray-700">
                            {{ post.body_markdown() | safe }}
                        </div>
                        <p class="mb-6 text-lg leading-loose text-gray-700 font-semibold">{{ post.conclusion }}</p>
                    </div>

                </article>
            </div>
            <!-- Sidebar -->
            <div class="w-full lg:w-1/4 px-4 mt-12 lg:mt-0">
                <div class="bg-white rounded-lg p-6 shadow-md">
                    <h3 class="font-bold text-2xl mb-4 text-gray-800">Recent Posts</h3>

                    <ul class="space-y-4">
                        {% for recent_post in recent_posts %}
                        {% if recent_post.id != post.id %}
                        <li>
                            <a href="{{ url_for('post', post_id=recent_post.id) }}"
                               class="font-semibold text-indigo-600 hover:text-indigo-800 hover:underline">{{
                                recent_post.title }}</a>
                            <p class="text-gray-500 text-sm">{{ recent_post.date_posted.strftime('%B %d, %Y') }}</p>
                        </li>
                        {% endif %}
                        {% endfor %}
                    </ul>


                </div>
            </div>
        </div>
    </div>
</section>

<style>
    /* Custom styles for imitating Medium's professional blog style */

    /* Adjust post content width */
    .post-content {
        max-width: 680px;
        margin: auto;
    }

    /* Center the post title */
    .post-content h1 {
        text-align: center;
    }

    /* Styling for the author section */
    .post-content .flex.items-center img {
        border: 2px solid white;
    }

    /* Adjust font size and line-height for readability */
    .post-content h2 {
        font-size: 2.5rem;
        line-height: 1.3;
    }

    .post-content p {
        font-size: 1.25rem;
        line-height: 1.6;
    }

    /* Style recent posts section */
    .sidebar .font-bold {
        font-size: 1.5rem;
        line-height: 1.3;
    }

    .sidebar .text-gray-800 {
        font-size: 1.25rem;
        line-height: 1.4;
    }

    .sidebar .text-gray-500 {
        font-size: 0.875rem;
        line-height: 1.5;
    }
</style>

{% include './Sections/footer.html' %}

<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</html>